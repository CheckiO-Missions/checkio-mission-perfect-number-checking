<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        I have no idea how to start solving this mission.
    </div>
    <div class="answer">
        <p>
            Catch an idea üí°! Declare a variable for sum of divisors. Iterate over integers up to square root of given number including and check every of it for being divisor of given number (remainder from division must be equal 0). If so - add quotient also (if it is not equal current divisor).
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, what should I start from?
    </div>
    <div class="answer">
        <p>
            Let's declare a variable for sum of divisors with the initial value of 1, since every number is divisible by 1.
        </p>
        <pre class="brush: javascript">
let sum = 1;
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        What to do next?
    </div>
    <div class="answer">
        <p>
            Using <a target="_blank" href="https://www.w3schools.com/js/js_loop_for.asp">for loop</a> iterate over integers from 2 to the square root of the given number including. To find integer value of square root use <a target="_blank" href="https://www.w3schools.com/jsref/jsref_sqrt.asp">Math.sqrt()</a> method.
        </p>
        <pre class="brush: javascript">
for (let i = 2; i <= Math.sqrt(n); i++) {...}
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        I still need a hint.
    </div>
    <div class="answer">
        <p>
            Now inside loop you need to calculate quotient and remainder from division the given number and current integer <b class="code">i</b>. 
        </p>
        <pre class="brush: javascript">
const quot = n / i, rem = n % i;
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        What to do with this values?
    </div>
    <div class="answer">
        <p>
            Well, if the remainder <b class="code">rem == 0</b> (or <b class="code">!rem</b>), it means that number <b class="code">n</b> is divisible by integer <b class="code">i</b>. So <b class="code">i</b> is a divisor of <b class="code">n</b> and you need to add it to the sum of divisors <b class="code">sum</b>.  
        </p>
        <pre class="brush: javascript">
if (!rem) {
    sum += i;
    ...
}
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Is that all?
    </div>
    <div class="answer">
        <p>
            In this case (<b class="code">not rem</b>) you also need to add quotient <b class="code">quot</b> to the sum of divisors since we check not all integers up to number, but only till square root. To avoid adding the same divisor (when quotient == i), make a check.
        </p>
        <pre class="brush: javascript">
if (i !== quot) sum += quot;
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        So, how my final solution should look like?
    </div>
    <div class="answer">
        <p>
            You just need to join all previous hints, return the result of comparison sum of divisors and original number and wrap your code into function expression. Using type hints for input and output data are highly recommended.
        </p>
        <p>Here is the whole solution:</p>
        <div class="spoiler">
        <pre class="brush: javascript">
function isPerfect(n: number): boolean {

    let sum = 1;  
    for (let i = 2; i <= Math.sqrt(n); i++) {
        const quot = n / i, rem = n % i;
        if (!rem) {
            sum += i;
            if (i !== quot) sum += quot;
        }
    }
    return sum === n;
}
        </pre>
        </div>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Show me more solutions!<br />
        'Cause I wanna be a real ü•á Javascript Hero!
    </div>
    <div class="answer">
        <p>Sure, grab it!</p>
        <p>
            Convert number to an array of its range and reduce it adding proper divisors.
        </p>
        <div class="spoiler">
        <pre class="brush: javascript">
function isPerfect(n: number): boolean {

    const sum = [...Array(n).keys()]
    .reduce((a, b) => a + (n%b == 0 ? b : 0), 0);

    return sum == n;
}
        </pre>
        </div>
        <p>Click <b>Best Solutions</b> at mission menu and see a lot of other interesting solutions!</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Thanks! I know and understand more now! Everything works fine!
    </div>
    <div class="answer">
        Glad to hear it üëç!
    </div>
</div>
</body>